from time import strftime
timestr = strftime('%Y%m%d-%H%M%S')

nrFrames = 4

h = 450
w = h
x = width()/2 - h/2
y = height()/2 - w/2
whatevs = 20

'''
In this scenario, the squares jump corner after a given number of frames.

It is rather abrupt.

It would be nice if we could set the pace. Maybe start with as many steps as there are squares?

Secondly, it would be nice if we could apply interpolation to the number of squares.

Currently, a simple mathematical rule is applied. But ideally, you'd want to set top size, or bottom size, or in-between size, and it calculates the correct sizes for you. 

Thirdly, it would be nice if the squares didn't jump straight to the edge of the corner. We need an offset.

'''

for frame in range(nrFrames):
    newPage()
    frameDuration(1/nrFrames)
    save()
    fill(0.4)
    rect(10,10,width()-20, height()-20)
    restore()
    for i in range(whatevs):
        save()
        shadow((-1, -1), 80, (1,1,1))
        fill(0.7,0.7,0.1)
        stroke(0.7,0.7,0.1)
        strokeWidth(w/10)
        if frame < nrFrames * 0.25:
            rect(x, y, w - i * sqrt(h), h - i * sqrt(h)) #bottomleft
        elif frame < nrFrames * 0.5:    
            rect(x, y + i * sqrt(h), w - i * sqrt(h), h - i * sqrt(h)) #top left
        elif frame < nrFrames * 0.75:
            rect(x + i * sqrt(h), y + i * sqrt(h), w - i * sqrt(h), h - i * sqrt(h)) #top right
        #if frame == nrFrame * 0.75:
        else:
            rect(x + i * sqrt(h), y, w - i * sqrt(h), h - i * sqrt(h)) #bottom right
        restore()

#saveImage('squares-2-3' + timestr + '.gif')



# #What follows is (should be :)) the same as the thing at the bottom, but as a more generalised function.

# nrFrames = 4

# h = 450
# w = h
# x = width()/2 - h/2
# y = height()/2 - w/2
# whatevs = 4

# '''
# In this scenario, the squares jump corner after a given number of frames.

# It is rather abrupt.

# It would be nice if we could set the pace. Maybe start with as many steps as there are squares?

# Secondly, it would be nice if we could apply interpolation to the number of squares.

# Currently, the scenario breaks down above 4 squares!

# '''

# for frame in range(nrFrames):
#     newPage()
#     frameDuration(1/nrFrames)
#     save()
#     fill(0.4)
#     rect(10,10,width()-20, height()-20)
#     restore()
#     for i in range(whatevs):
#         save()
#         shadow((-1, -1), 80, (1,1,1))
#         fill(0.7,0.7,0.1)
#         stroke(0.7,0.7,0.1)
#         strokeWidth(w/10)
#         if frame < nrFrames * 0.25:
#             rect(x, y, w - i * h/4, h - i * h/4) #bottomleft
#         elif frame < nrFrames * 0.5:    
#             rect(x, y + i * h/4, w - i * h/4, h - i * h/4) #top left
#         elif frame < nrFrames * 0.75:
#             rect(x + i * h/4, y + i * h/4, w - i * h/4, h - i * h/4) #top right
#         #if frame == nrFrame * 0.75:
#         else:
#             rect(x + i * h/4, y, w - i * h/4, h - i * h/4) #bottom right
#         restore()

# # saveImage('squares-2-2' + timestr + '.gif')









# newPage()
# # bottom left

# save()
# fill(0.4)
# rect(10,10,width()-20, height()-20)
# restore()

# h = 450
# w = h
# x = width()/2 - h/2
# y = height()/2 - w/2
# whatevs = 4

# for i in range(whatevs):
#     save()
#     shadow((-1, -1), 80, (1,1,1))
#     fill(0.7,0.7,0.1)
#     stroke(0.7,0.7,0.1)
#     strokeWidth(w/10)
#     rect(x, y, w - i * h/4, h - i * h/4)
#     restore()

# newPage()
# #top left

# save()
# fill(0.4)
# rect(10,10,width()-20, height()-20)
# restore()

# h = 450
# w = h
# x = width()/2 - h/2
# y = height()/2 - w/2
# whatevs = 4

# for i in range(whatevs):
#     save()
#     shadow((-1, -1), 80, (1,1,1))
#     fill(0.7,0.7,0.1)
#     stroke(0.7,0.7,0.1)
#     strokeWidth(w/10)
#     rect(x, y + i * h/4, w - i * h/4, h - i * h/4)
#     restore()

# newPage()
# #top right

# save()
# fill(0.4)
# rect(10,10,width()-20, height()-20)
# restore()

# h = 450
# w = h
# x = width()/2 - h/2
# y = height()/2 - w/2
# whatevs = 4

# for i in range(whatevs):
#     save()
#     shadow((-1, -1), 80, (1,1,1))
#     fill(0.7,0.7,0.1)
#     stroke(0.7,0.7,0.1)
#     strokeWidth(w/10)
#     rect(x + i * h/4, y + i * h/4, w - i * h/4, h - i * h/4)
#     restore()

# newPage()
# #bottom right

# save()
# fill(0.4)
# rect(10,10,width()-20, height()-20)
# restore()

# h = 450
# w = h
# x = width()/2 - h/2
# y = height()/2 - w/2
# whatevs = 4

# for i in range(whatevs):
#     save()
#     shadow((-1, -1), 80, (1,1,1))
#     fill(0.7,0.7,0.1)
#     stroke(0.7,0.7,0.1)
#     strokeWidth(w/10)
#     rect(x + i * h/4, y, w - i * h/4, h - i * h/4)
#     restore()

# saveImage('squares-2-1' + timestr + '.gif')